The function accepts a square matrix of integers and returns the sum of the elements on the main diagonal and the anti-diagonal. If the input matrix is not square, the function raises an `IndexError`. If the input matrix is empty, the function returns 0.